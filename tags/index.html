---
title: 分类标签
layout: default

---
<section class="content">
	<article id="index">
	<h2>所有分类标签：</h2>
	<div id="tag_cloud">
	{% for tag in site.tags %}
	<a href="{{site.baseurl}}/tags/?tag={{tag[0] | cgi}}" title="{{ tag[0] }}" rel="{{ tag[1].size }}">{{ tag[0] }}</a>
	{% endfor %}
	</div>

	<div id="show-tag">请点击分类标签查看相关的文章</div>
	
	<div id="post-bottom">
		<p style="text-align:right" class="more">
			<a href="{{site.baseurl}}/">返回主页</a>
		</p>
	</div>

	</article>
</section>

<script src="/js/jquery-1.7.1.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
		function showTag(tagStr){
			$.getJSON("../post.json",function(data){				
				$('#show-tag').empty(content);				
				var content ="<h2>分类："+ tagStr +"</h2><ul class=\"posts\">";
				var count = 0;
				$.each(data,function(i,item){										
			   		$.each(item.tags,function(j,tag){
						if(tag == tagStr)	{					   
						content += "<li class=\"listing-item\"><time datetime=\""+ item.date +"\">" + item.date + "</time><a href=\""+item.url+"\">"+ item.title +"</a></li>";
						count++;
						}
											
					});					
				});	
				if(count>0){			
					content +="</ul>";	
					postNumStr = "<span>（"+count + "篇文章）</span>";					
					$('#show-tag').append(content);
					$('#show-tag>h2').append(postNumStr);	
				}
			});
		}
	</script>

<script type="text/javascript">
	var href= window.location.href;
	var pos = href.indexOf('?tag=');
	var paraStr = href.substring(pos+5);
	if(pos>0){
		showTag(decodeURI(paraStr));
	}else{
		showTag("");
	}

</script>
	

